Issue Type,Summary,Description,Epic Name,Component/s,Priority,Labels,Acceptance Criteria,Unit Test Cases
Task,Setup Activation DB Schema,"Design & migrate PostgreSQL schema: campaign, segment_snapshot, agent_task, delivery_log. Add indexes & constraints.",Core LEO Activation,PostgreSQL,High,activation;db,"Schema migrated successfully; Indexes created; Insert latency <50ms","Create campaign record; Insert delivery_log <50ms; Rollback migration"
Task,Activation Rule Engine MVP,"Implement rule evaluation: segment match + trigger + cooldown logic.",Core LEO Activation,Activation Engine,High,activation;rules,"Rule evaluated <30ms; AND/OR supported; Cooldown enforced","Segment true triggers fire; Cooldown blocks trigger; Invalid rule rejected"
Task,Agent Orchestration API,"FastAPI endpoint to dispatch agents based on activation events.",Core LEO Activation,Agent Router,High,activation;agents,"POST /activate/event returns 200; Async dispatch works","Mock event creates agent_task; Timeout agent retries"
Task,Data Sync Worker,"Celery worker sync GraphDB profile → PostgreSQL snapshot (delta only).",Core LEO Activation,Data Sync,High,activation;sync,"Delta sync only; Idempotent; Partial failure recoverable","Run twice no duplicate; Simulate partial failure"
Task,Segment Snapshot Builder,"Freeze segment membership at activation time.",Core LEO Activation,Segmentation,High,activation;segment,"Snapshot immutable; Query <100ms","Same segment = same snapshot; New event = new snapshot"
Task,Activation Metrics,"Track sent/delivered/failed metrics with Redis cache.",Core LEO Activation,Metrics,Medium,activation;metrics,"Metrics real-time; Redis fallback DB","Increment count; Redis miss fallback"
Task,Keycloak Integration,"Secure activation APIs with OpenID Connect (Keycloak).",Core LEO Activation,Security,High,activation;auth,"Token validated; Scope enforced","Invalid token rejected; Missing scope rejected"
Task,Email Gateway Integration,"Send email notification via SMTP/API with template rendering.",Channels & Notification,Email,High,channel;email,"Template rendered; Retry on failure","Variable rendering test; SMTP down retry"
Task,Zalo OA Notification,"Send message via Zalo OA API.",Channels & Notification,Zalo,High,channel;zalo,"Token valid; Rate limit handled","Invalid token fail; Message delivered"
Task,Facebook Page Messaging,"Send notification via Facebook Page API.",Channels & Notification,Facebook,Medium,channel;facebook,"Page token secure; Delivery logged","Expired token test; Message delivered"
Task,Telegram Bot Notification,"Send Telegram bot message with Markdown support.",Channels & Notification,Telegram,Medium,channel;telegram,"Chat ID validated; Markdown supported","Invalid chat ID; Format validation"
Task,WhatsApp Business API,"Send WhatsApp notification via approved templates.",Channels & Notification,WhatsApp,High,channel;whatsapp,"Template approved; Delivery status logged","Template mismatch; Retry logic"
Task,Firebase Push Notification,"Push notification via Firebase Cloud Messaging.",Channels & Notification,Firebase Push,High,channel;push,"Token valid; Multicast supported","Invalid token cleanup; Payload size limit"
Task,PushAlert Web Push,"Web push via PushAlert with service worker support.",Channels & Notification,PushAlert,Medium,channel;pushalert,"Browser supported; sw.js compatible","Missing subscription; Push success"
Task,Unified Notification Dispatcher,"Abstract all channels under one dispatcher interface.",Channels & Notification,Dispatcher,High,channel;dispatcher,"Single payload multi-channel; Fallback supported","Channel fallback; Partial failure"
Task,End-to-End Activation UAT,"Full flow: event → segment → agent → notification.",UAT & Stabilization,QA,High,uat;e2e,"No manual step; Logs traceable; SLA met","Mock full flow; Latency check"
Task,Load Test Activation,"Stress test 1k events/min.",UAT & Stabilization,Performance,High,uat;load,"No crash; Queue stable","Spike test; Backpressure test"
Task,Fix Critical Bugs,"Fix blockers found in UAT & load test.",UAT & Stabilization,Bugfix,High,fix;bug,"No blocker remaining; Regression safe","Re-run failed test cases"
Task,Final Regression & Release,"Final regression test before release.",UAT & Stabilization,Release,High,release;regression,"All tests pass; No data loss","Full regression suite"
